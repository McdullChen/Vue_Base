(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5888002"],{1640:function(e,t,a){"use strict";var i=a("36a5"),n=a.n(i);n.a},"1a95":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"wrop-search"},[a("lj-search-from",{attrs:{onAdd:e.onAdd,searchObj:e.searchObj},on:{searchList:e.searchList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list,"header-cell-style":{background:"#e9eff8"},"row-style":{cursor:"pointer"},border:"",size:"mini"},on:{"row-click":e.seeFunction}},[a("el-table-column",{attrs:{align:"center",label:"编号",prop:"enforceNum",width:"150"}}),a("el-table-column",{attrs:{align:"center",label:"名称",prop:"enforceName","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{align:"center",label:"是否启用",prop:"isDisable",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e._f("YESORNO")(t.row.isDisable))+"\n            ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.buttonCheck("edit")?a("el-button",{attrs:{plain:"",size:"mini",type:"warning"},on:{click:function(a){return a.stopPropagation(),e.editFunction(t.$index,t.row)}}},[e._v("编辑\n                ")]):e._e(),e.buttonCheck("delete")?a("el-button",{attrs:{plain:"",size:"mini",type:"danger"},on:{click:function(a){return a.stopPropagation(),e.delateFunction(t.$index,t.row)}}},[e._v("\n                    删除\n                ")]):e._e()]}}])})],1),a("lj-pagination",{staticClass:"page-css",attrs:{pageNum:e.form.pageNum,pageSize:e.form.pageSize,total:e.total},on:{"update:pageNum":function(t){return e.$set(e.form,"pageNum",t)},"update:page-num":function(t){return e.$set(e.form,"pageNum",t)},"update:pageSize":function(t){return e.$set(e.form,"pageSize",t)},"update:page-size":function(t){return e.$set(e.form,"pageSize",t)},getData:e.getList}}),a("change-edit",{attrs:{show:e.editObj.show,title:e.editObj.title,type:e.editObj.editId},on:{"update:show":function(t){return e.$set(e.editObj,"show",t)},getList:e.getList}}),a("see-content",{attrs:{editId:e.seeObj.editId,show:e.seeObj.show,title:e.seeObj.title},on:{"update:show":function(t){return e.$set(e.seeObj,"show",t)}}})],1)},n=[],o=(a("ac6a"),a("f499")),r=a.n(o),l=a("7e62"),s=a("8984"),c=a("9057"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.show,center:"",top:"30px",width:"650px"},on:{close:e.closeDialog}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"100px",size:"medium"}},[a("el-form-item",{attrs:{label:"领域名称：",prop:"enforceName"}},[a("el-input",{attrs:{placeholder:"请输入领域名称"},model:{value:e.form.enforceName,callback:function(t){e.$set(e.form,"enforceName",t)},expression:"form.enforceName"}})],1),a("el-form-item",{attrs:{label:"领域编码：",prop:"enforceCode"}},[a("el-input",{attrs:{placeholder:"请输入编码"},model:{value:e.form.enforceCode,callback:function(t){e.$set(e.form,"enforceCode",t)},expression:"form.enforceCode"}})],1),a("el-form-item",{attrs:{label:"领域编号：",prop:"enforceNum"}},[a("el-input",{attrs:{placeholder:"请输入领域编号"},model:{value:e.form.enforceNum,callback:function(t){e.$set(e.form,"enforceNum",t)},expression:"form.enforceNum"}})],1),a("el-form-item",{attrs:{label:"职权依据：",prop:"enforceRight"}},[a("el-input",{attrs:{autosize:{minRows:4},placeholder:"请输入职权依据",type:"textarea"},model:{value:e.form.enforceRight,callback:function(t){e.$set(e.form,"enforceRight",t)},expression:"form.enforceRight"}})],1),a("el-form-item",{attrs:{label:"序号:"}},[a("el-input-number",{attrs:{min:0},model:{value:e.form.enforceOrder,callback:function(t){e.$set(e.form,"enforceOrder",t)},expression:"form.enforceOrder"}})],1),a("el-form-item",{attrs:{label:"是否启用:"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.form.isDisable,callback:function(t){e.$set(e.form,"isDisable",t)},expression:"form.isDisable"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"info"},on:{click:e.closeDialog}},[a("i",{staticClass:"iconfont icon-back"}),e._v("取 消\n            ")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[a("i",{staticClass:"iconfont icon-save"}),e._v("确 定\n            ")])],1)],1)],1)},u=[],d=a("bd86"),m=a("d4f4"),p={name:"edit",props:{show:{type:Boolean,default:!1},title:{type:String,default:"编辑"},type:{type:String,default:""}},data:function(){var e;return{loading:!0,form:{},rules:(e={enforceName:[{required:!0,message:"请输入领域名称",trigger:"blur"}]},Object(d["a"])(e,"enforceName",[{required:!0,message:"请输入案由编号",trigger:"blur"}]),Object(d["a"])(e,"enforceName",[{required:!0,message:"请输入处罚事项编号",trigger:"blur"}]),Object(d["a"])(e,"enforceName",[{required:!0,message:"请输入领域编号",trigger:"blur"}]),Object(d["a"])(e,"enforceCode",[{required:!0,message:"请输入领域编码",trigger:"blur"}]),Object(d["a"])(e,"enforceRight",[{required:!0,message:"请输入职权依据",trigger:"blur"}]),e)}},methods:{closeDialog:function(){this.$emit("update:show",!1)},submitForm:function(){var e=this;this.$refs.ruleForm.validate(function(t){t&&(e.type?Object(m["Hb"])(e.form).then(function(t){e.closeDialog(),e.$emit("getList"),e.$message({type:"success",message:"修改成功!"})}):Object(m["Db"])(e.form).then(function(t){e.$emit("getList"),e.closeDialog(),e.$message({type:"success",message:"添加成功!"})}))})},initPage:function(){var e=this;this.type?Object(m["Fb"])(this.type).then(function(t){e.loading=!1,e.form=t.data}):(this.loading=!1,this.form={isDisable:1,enforceOrder:0})}},watch:{show:function(e){var t=this;e&&(this.initPage(),this.$nextTick(function(){t.$refs.ruleForm.clearValidate()}))}}},b=p,g=(a("d336"),a("2877")),h=Object(g["a"])(b,f,u,!1,null,"0bd6b959",null),v=h.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.show,width:"750px"},on:{close:e.closeDialog}},[e.form?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"detail-block"},[a("h3",[e._v(e._s(e.form.enforceName))]),a("div",{staticClass:"enforceCode"},[a("span",[e._v("编号："+e._s(e.form.enforceCode)+" "),a("span",[e._v(" & ")]),e._v("编码："+e._s(e.form.enforceNum))])]),a("el-divider",{attrs:{"content-position":"left"}},[a("div",{staticClass:"disabled"},[e._v("状态："+e._s(e._f("disable")(e.form.isDisable)))])]),a("div",{staticClass:"enforceRight-block"},[e._v("\n            职权依据：\n            "),a("div",{staticClass:"enforceRight"},[e._v(e._s(e.form.enforceRight))])]),a("el-divider",{attrs:{"content-position":"right"}},[a("div",{staticClass:"disabled"},[e._v("创建时间："+e._s(e._f("formatDate")(e.form.createTime)))])])],1):e._e()])},O=[],j={name:"seeContent",props:{editId:{type:String,default:""},show:{type:Boolean,default:!1},title:{type:String,default:""}},data:function(){return{loading:!0,form:""}},methods:{closeDialog:function(){this.$emit("update:show",!1)},initPage:function(){var e=this;Object(m["Fb"])(this.editId).then(function(t){e.loading=!1,e.form=t.data})}},filters:{disable:function(e){return 1==e?"启用":"停用"},formatDate:function(e){return Object(c["g"])(e,"yyyy-MM-dd hh:mm:ss")}},watch:{show:function(e){e&&this.initPage()}}},y=j,_=(a("c1c1"),Object(g["a"])(y,w,O,!1,null,"e74641a0",null)),I=_.exports,N={name:"lawScopePage",data:function(){return{loading:!0,editObj:{show:!1,title:"",editId:null},seeObj:{show:!1,title:"",editId:null},searchObj:null,form:{pageSize:20,pageNum:1},total:0,list:[]}},components:{changeEdit:v,LjPagination:l["a"],LjSearchFrom:s["a"],seeContent:I},props:["upDateTree"],methods:{getList:function(){var e=this;Object(m["Gb"])(this.form).then(function(t){e.total=t.total,e.list=JSON.parse(r()(t.data));var a=[];t.data.forEach(function(e){e.name=e.enforceName,e.id=e.enforceId,a.push(e)}),e.$emit("upDateTree",a),e.loading=!1})},onAdd:function(){this.editObj.editId=null,this.editObj.title="新增执法领域",this.editObj.show=!0},seeFunction:function(e){this.seeObj.show=!0,this.seeObj.title="执法领域详情",this.seeObj.editId=e.enforceId},editFunction:function(e,t){this.editObj.editId=t.enforceId,this.editObj.title="修改执法领域",this.editObj.show=!0},delateFunction:function(e,t){var a=this;this.$confirm("此操作将永久删除该领域, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(m["Eb"])(t.enforceId).then(function(e){a.getList(),a.$message({type:"success",message:"删除成功!"})})})},searchList:function(e){var t=this;this.loading=!0,e.pageSize=this.form.pageSize,this.form.pageNum=1,Object(m["Gb"])(e).then(function(e){t.list=e.data,t.total=e.total;var a=[];e.data.forEach(function(e){e.name=e.enforceName,e.id=e.enforceId,a.push(e)}),t.$emit("upDateTree",a),t.loading=!1})}},filters:{YESORNO:function(e){return c["d"][e]}},created:function(){this.getList()}},T=N,k=(a("d2a0"),Object(g["a"])(T,i,n,!1,null,"1afc3201",null));t["default"]=k.exports},"36a5":function(e,t,a){},"3dc5":function(e,t,a){"use strict";var i=a("e109"),n=a.n(i);n.a},4462:function(e,t,a){},"454f":function(e,t,a){a("46a7");var i=a("584a").Object;e.exports=function(e,t,a){return i.defineProperty(e,t,a)}},"46a7":function(e,t,a){var i=a("63b6");i(i.S+i.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},7266:function(e,t,a){},"85f2":function(e,t,a){e.exports=a("454f")},"8c3e":function(e,t,a){},9533:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{padding:"0"}},[a("el-aside",{staticClass:"tree-block",attrs:{width:"200px"}},[a("el-tree",{ref:"tree",attrs:{"default-expanded-keys":["main"],load:e.onOpen,props:{label:"name",isLeaf:"isLeaf"},lazy:"","node-key":"id"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node;t.data;return a("div",{staticClass:"noFull"},[a("div",{class:{"item-block":!0,active:i.data.id===e.mainObj.id},on:{click:function(t){return t.stopPropagation(),e.onClick(i)}}},[e._v(e._s(i.label)+"\n                ")])])}}])})],1),a("el-main",{staticStyle:{padding:"10px"}},[a("el-breadcrumb",{staticStyle:{margin:"0 0 10px 0",color:"#888888"},attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("法规案由库")]),e.mainObj.type>0?a("el-breadcrumb-item",[e._v("执法领域")]):e._e(),e.mainObj.type>1?a("el-breadcrumb-item",[e._v("法律法规")]):e._e(),e.mainObj.type>2?a("el-breadcrumb-item",[e._v("处罚事项")]):e._e(),e.mainObj.type>3?a("el-breadcrumb-item",[e._v("案由&裁量")]):e._e()],1),1===e.mainObj.type?a("law-scope",{on:{upDateTree:e.upDateTree}}):e._e(),2===e.mainObj.type?a("law-regulations",{attrs:{enforceId:e.mainObj.id},on:{upDateTree:e.upDateTree}}):e._e(),3===e.mainObj.type?a("punish-block",{attrs:{lawId:e.mainObj.id,tid:e.mainObj.tid,version:e.mainObj.version},on:{upDateTree:e.upDateTree}}):e._e(),4===e.mainObj.type?a("div",[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"案由",name:"first"}},[a("cause-block",{attrs:{pmId:e.mainObj.id,tid:e.mainObj.tid,lawVersion:e.mainObj.lawVersion}})],1),a("el-tab-pane",{attrs:{label:"裁量基准",name:"second"}},[a("discretion",{attrs:{pmId:e.mainObj.id,tid:e.mainObj.tid}})],1)],1)],1):e._e()],1)],1)},n=[],o=(a("ac6a"),a("d4f4")),r=a("1a95"),l=a("a19f"),s=a("5590"),c=a("d351"),f=a("cae1"),u={name:"lawSetPage",data:function(){return{activeName:"first",mainObj:{type:1,id:"main",tid:""}}},components:{lawScope:r["default"],lawRegulations:l["default"],punishBlock:s["default"],causeBlock:c["default"],discretion:f["default"]},methods:{initPage:function(){var e=this;Object(o["Gb"])({pageNum:1,pageSize:1e3}).then(function(t){t.data.forEach(function(e){e.children=[],e.name=e.enforceName}),e.list[0].children=t.data})},upDateTree:function(e){this.$refs.tree.updateKeyChildren(this.mainObj.id,e)},onClick:function(e){1===e.level?this.mainObj.id="main":2===e.level?this.mainObj.id=e.data.enforceId:3===e.level?(this.mainObj.id=e.data.lawId,this.mainObj.tid=e.data.clId,this.mainObj.version=e.data.version):4===e.level&&(this.mainObj.id=e.data.pmId,this.mainObj.tid=e.data.tid,this.mainObj.lawVersion=e.data.version),this.mainObj.type=e.level},onOpen:function(e,t){if(0===e.level)return t([{name:"法规案由库",id:"main"}]);if(1===e.level)Object(o["Gb"])({pageNum:1,pageSize:1e3}).then(function(e){return e.data.forEach(function(e){e.name=e.enforceName,e.id=e.enforceId}),t(e.data)});else if(2===e.level){var a=e.data.enforceId,i={pageSize:1e3,pageNum:1,enforceId:a,isEffective:1};Object(o["Ab"])(i).then(function(e){return e.data.forEach(function(e){e.name=e.lawName,e.id=e.lawId}),t(e.data)})}else if(3===e.level){var n=e.data.lawId,r={pageSize:1e3,pageNum:1,lawId:n,isEffective:1};Object(o["Lb"])(r).then(function(e){return e.data.forEach(function(e){e.name=e.pmName,e.id=e.pmId,e.isLeaf=!0}),t(e.data)})}}},created:function(){}},d=u,m=(a("1640"),a("2877")),p=Object(m["a"])(d,i,n,!1,null,"25d40f22",null);t["default"]=p.exports},a19f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("lj-search-form",{attrs:{onAdd:e.onAdd,searchObj:e.searchObj},on:{searchList:e.searchList}}),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list,"header-cell-style":{background:"#e9eff8"},"row-style":{cursor:"pointer"},border:"",size:"mini"},on:{"row-click":e.seeFunction}},[a("el-table-column",{attrs:{align:"center",label:"法规类别",prop:"lawType",width:"150"}}),a("el-table-column",{attrs:{align:"center",label:"法规名称",prop:"lawName"}}),a("el-table-column",{attrs:{align:"center",label:"生效时间",prop:"effectiveTime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e._f("formatDate")(t.row.effectiveTime))+"\n            ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"是否生效",prop:"isEffective",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e._f("isEffective")(t.row.isEffective))+"\n            ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:function(a){return a.stopPropagation(),e.historyFunction(t.row)}}},[e._v("历史版本\n                ")]),e.buttonCheck("edit")?a("el-button",{attrs:{plain:"",size:"mini",type:"warning"},on:{click:function(a){return a.stopPropagation(),e.changeFunction(t.row)}}},[e._v("修订\n                ")]):e._e()]}}])})],1),a("lj-pagination",{attrs:{pageNum:e.form.pageNum,pageSize:e.form.pageSize,total:e.total},on:{"update:pageNum":function(t){return e.$set(e.form,"pageNum",t)},"update:page-num":function(t){return e.$set(e.form,"pageNum",t)},"update:pageSize":function(t){return e.$set(e.form,"pageSize",t)},"update:page-size":function(t){return e.$set(e.form,"pageSize",t)},getData:e.getAccountList}}),a("edit-add",{attrs:{editObj:e.editObj,enforceId:e.enforceId},on:{getAccountList:e.getAccountList}}),a("history-table",{attrs:{TableObj:e.TableObj},on:{getAccountList:e.getAccountList}}),a("see-content",{attrs:{editId:e.seeObj.editId,show:e.seeObj.show,title:e.seeObj.title},on:{"update:show":function(t){return e.$set(e.seeObj,"show",t)}}})],1)},n=[],o=(a("ac6a"),a("9057")),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.editObj.title,visible:e.editObj.show,"append-to-body":"",width:"750px"},on:{"update:visible":function(t){return e.$set(e.editObj,"show",t)}}},[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{gutter:20}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"执法领域：",prop:"enforceId"}},[a("span",[e._v(e._s(e.form.enforceName))])])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"法规类别：",prop:"lawType"}},[a("el-select",{staticClass:"selectwidth",attrs:{placeholder:"请选择"},model:{value:e.form.lawType,callback:function(t){e.$set(e.form,"lawType",t)},expression:"form.lawType"}},e._l(e.lawTypeArr,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"法规名称：",prop:"lawName"}},[a("el-input",{model:{value:e.form.lawName,callback:function(t){e.$set(e.form,"lawName",t)},expression:"form.lawName"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"法规内容：",prop:"lawContent"}},[a("el-input",{attrs:{autosize:{minRows:4,maxRows:40},type:"textarea"},model:{value:e.form.lawContent,callback:function(t){e.$set(e.form,"lawContent",t)},expression:"form.lawContent"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"颁布单位：",prop:"promulgationUnit"}},[a("el-input",{model:{value:e.form.promulgationUnit,callback:function(t){e.$set(e.form,"promulgationUnit",t)},expression:"form.promulgationUnit"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"颁布时间：",prop:"promulgationTime"}},[a("el-date-picker",{staticClass:"time-picker",attrs:{placeholder:"颁布时间",type:"date"},model:{value:e.form.promulgationTime,callback:function(t){e.$set(e.form,"promulgationTime",t)},expression:"form.promulgationTime"}})],1)],1),a("el-col",{attrs:{span:12}},[2!=e.editObj.type?a("el-form-item",{attrs:{label:"是否生效："}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":2},model:{value:e.form.isEffective,callback:function(t){e.$set(e.form,"isEffective",t)},expression:"form.isEffective"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},[2==e.form.isEffective?a("el-form-item",{attrs:{label:"生效时间：",prop:"effectiveTime"}},[a("el-date-picker",{staticClass:"time-picker",attrs:{placeholder:"生效时间",type:"date"},model:{value:e.form.effectiveTime,callback:function(t){e.$set(e.form,"effectiveTime",t)},expression:"form.effectiveTime"}})],1):e._e()],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editObj.show=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)},l=[],s=a("d4f4"),c={name:"Edit",props:{editObj:{type:Object,default:null},enforceId:{type:String,default:null},see:{type:Boolean,default:!1},rowdata:{type:Object,default:null}},data:function(){return{loading:!0,form:{},enforceIdArr:[],dialogVisible:!1,is_effectiveArr:[{value:0,label:"未生效"},{value:1,label:"已生效"},{value:2,label:"待生效"}],onlyShow:!0,lawTypeArr:[{value:"宪法",label:"宪法"},{value:"法律",label:"法律"},{value:"行政法规",label:"行政法规"},{value:"地方性法规",label:"地方性法规"},{value:"自治法规",label:"自治法规"},{value:"经济特区的经济法规",label:"经济特区的经济法规"}],rules:{enforceId:[{required:!0,message:"请选择执法领域",trigger:"blur"}],lawName:[{required:!0,message:"请输入法规名称",trigger:"blur"},{min:1,message:"长度在 1 个字符以上",trigger:"blur"}],lawType:[{required:!0,message:"请选择法规类别",trigger:"change"}],promulgationUnit:[{required:!0,message:"请选择颁布单位",trigger:"blur"}],promulgationTime:[{required:!0,message:"请选颁布时间",trigger:"blur"}],lawContent:[{required:!0,message:"请输入法规内容",trigger:"blur"},{min:3,message:"长度在 3 个字符以上",trigger:"blur"}],effectiveTime:[{required:!0,message:"请选择生效日期",trigger:"change"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.form.isEffective=""==t.form.isEffective?0:t.form.isEffective,t.form.effectiveTime=Date.parse(t.form.effectiveTime),t.form.promulgationTime=Date.parse(t.form.promulgationTime),2==t.editObj.type?Object(s["xb"])(t.form).then(function(e){t.$emit("getAccountList"),t.$message({type:"success",message:"添加成功!"}),t.editObj.show=!1}):1==t.editObj.type?Object(s["Bb"])(t.form).then(function(e){t.$emit("getAccountList"),t.$message({type:"success",message:"修改成功!"}),t.editObj.show=!1}):3==t.editObj.type&&Object(s["Cb"])(t.form).then(function(e){t.$emit("getAccountList"),t.$message({type:"success",message:"版本修订成功!"}),t.editObj.show=!1})})},initPage:function(){var e=this;2!=this.editObj.type?Object(s["zb"])(this.editObj.editId).then(function(t){e.loading=!1;var a=t.data;a.invalidTime="",a.effectiveTime=Object(o["g"])(a.effectiveTime,"yyyy-MM-dd"),e.form=a}):Object(s["Fb"])(this.enforceId).then(function(t){e.loading=!1,e.form.enforceName=t.data.enforceName,e.form={enforceName:t.data.enforceName,enforceId:t.data.enforceId,lawType:"",lawContent:"",isEffective:1},e.$nextTick(function(){e.$refs.ruleForm.clearValidate()})})}},watch:{"editObj.show":function(e){e&&this.initPage()}}},f=c,u=(a("f970"),a("2877")),d=Object(u["a"])(f,r,l,!1,null,"b63a1886",null),m=d.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.TableObj.title,visible:e.TableObj.show,"append-to-body":"",center:"",width:"70%"},on:{"update:visible":function(t){return e.$set(e.TableObj,"show",t)}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list,"header-cell-style":{background:"#e9eff8"},"row-style":{cursor:"pointer"},border:"",size:"mini"},on:{"row-click":e.seeFunction}},[a("el-table-column",{attrs:{align:"center",label:"法规类别",prop:"lawType"}}),a("el-table-column",{attrs:{align:"center",label:"法规名称",prop:"lawName"}}),a("el-table-column",{attrs:{align:"center",label:"生效时间",prop:"effectiveTime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e._f("formatDate")(t.row.effectiveTime))+"\n                ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"是否生效",prop:"isEffective"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e._f("isEffective")(t.row.isEffective))+"\n                ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.isEffective?a("el-button",{attrs:{plain:"",size:"mini",type:"warning"},on:{click:function(a){return a.stopPropagation(),e.editFunction(t.row)}}},[e._v("编辑\n                    ")]):e._e()]}}])})],1),a("iPagination",{attrs:{pageNum:e.form.pageNum,pageSize:e.form.pageSize,total:e.total},on:{"update:pageNum":function(t){return e.$set(e.form,"pageNum",t)},"update:page-num":function(t){return e.$set(e.form,"pageNum",t)},"update:pageSize":function(t){return e.$set(e.form,"pageSize",t)},"update:page-size":function(t){return e.$set(e.form,"pageSize",t)},getData:e.getAccountList}}),a("editadd",{attrs:{editObj:e.editObj},on:{getAccountList:e.getAccountList}}),a("seeContent",{attrs:{editId:e.seeObj.editId,show:e.seeObj.show,title:e.seeObj.title},on:{"update:show":function(t){return e.$set(e.seeObj,"show",t)}}})],1)],1)},b=[],g=a("7e62"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.show,"append-to-body":"",width:"750px"},on:{close:e.closeDialog}},[e.form?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"detail-block"},[a("h3",[e._v(e._s(e.form.lawName))]),a("el-divider",{attrs:{"content-position":"left"}},[a("div",{staticClass:"disabled"},[e._v("生效状态："+e._s(0==e.form.isEffective?"待生效":1==e.form.isEffective?"已生效":"待生效"))])]),a("div",{staticClass:"enforceRight-block"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"执法领域："}},[e.enforceIdArr.find(function(t){return t.value==e.form.enforceId})?a("span",{staticClass:"fontcss"},[e._v(e._s(e.enforceIdArr.find(function(t){return t.value==e.form.enforceId}).label))]):e._e()]),a("el-form-item",{attrs:{label:"法规类别："}},[e.lawTypeArr.find(function(t){return t.value==e.form.lawType})?a("span",{staticClass:"fontcss"},[e._v(e._s(e.lawTypeArr.find(function(t){return t.value==e.form.lawType}).label))]):e._e()]),a("el-form-item",{attrs:{label:"法规内容："}},[a("span",{staticClass:"fontcss",domProps:{innerHTML:e._s(e.form.lawContent)}})]),a("el-form-item",{attrs:{label:"颁布单位：",prop:"promulgationUnit"}},[a("span",{staticClass:"fontcss"},[e._v(e._s(e.form.promulgationUnit))])]),a("el-form-item",{attrs:{label:"颁布时间：",prop:"promulgationTime"}},[e.form.promulgationTime?a("span",{staticClass:"fontcss"},[e._v(e._s(e._f("formatDate")(e.form.promulgationTime)))]):e._e()])],1)],1),e.form.effectiveTime?a("el-divider",{attrs:{"content-position":"right"}},[e._v("生效时间："+e._s(e._f("formatDate")(e.form.effectiveTime))),e.form.invalidTime?a("span",[e._v("至 "+e._s(e._f("formatDate")(e.form.invalidTime)))]):e._e()]):e._e()],1):e._e()])},v=[],w=(a("a481"),{name:"seeContent",props:{editId:{type:String,default:""},show:{type:Boolean,default:!1},title:{type:String,default:""}},data:function(){return{loading:!0,form:{},enforceIdArr:[],lawTypeArr:[{value:"宪法",label:"宪法"},{value:"法律",label:"法律"},{value:"行政法规",label:"行政法规"},{value:"地方性法规",label:"地方性法规"},{value:"自治法规",label:"自治法规"},{value:"经济特区的经济法规",label:"经济特区的经济法规"}]}},methods:{closeDialog:function(){this.$emit("update:show",!1)},initPage:function(){var e=this;Object(s["zb"])(this.editId).then(function(t){e.loading=!1;var a=t.data;a.invalidTime="",e.form=a,e.form.lawContent=e.form.lawContent.replace(/\n/g,"<br/>")})},enforceIdFunc:function(){var e=this;Object(s["Gb"])({pageSize:20,pageNum:1}).then(function(t){var a=[];t.data.forEach(function(e){var t={value:e.enforceId,label:e.enforceName};a.push(t)}),e.enforceIdArr=a})}},filters:{isEffective:function(e){return o["h"][e]},formatDate:function(e){return Object(o["g"])(e,"yyyy-MM-dd")}},watch:{show:function(e){e&&this.initPage()}},created:function(){this.enforceIdFunc()}}),O=w,j=(a("aa47"),Object(u["a"])(O,h,v,!1,null,"baf7c78a",null)),y=j.exports,_={name:"historyTable",props:{TableObj:{type:Object,default:null}},data:function(){return{loading:!0,form:{pageSize:1e3,pageNum:1},total:100,list:[],editObj:{title:"",editId:null,show:!1},seeObj:{show:!1,title:"",editId:null},rowdata:{},see:null}},components:{iPagination:g["a"],editadd:m,seeContent:y},methods:{seeFunction:function(e){this.seeObj.show=!0,this.seeObj.title="查看全部",this.seeObj.editId=e.clId},editFunction:function(e){this.editObj={title:"修改",type:"1",editId:e.clId,show:!0}},delateFunction:function(e){var t=this;this.$confirm("此操作将删除该法律版本, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.loading=!0,Object(s["yb"])(e.clId).then(function(e){t.loading=!1,t.getAccountList(),t.$message({type:"success",message:"删除成功!"})})})},onAdd:function(){},getAccountList:function(){var e=this;this.form.lawId=this.TableObj.editId,Object(s["Ab"])(this.form).then(function(t){e.loading=!1,e.total=t.total;var a=t.data;e.list=a,e.$emit("getAccountList")})}},filters:{isEffective:function(e){return o["h"][e]},formatDate:function(e){return Object(o["g"])(e,"yyyy-MM-dd hh:mm:ss")}},watch:{"TableObj.show":function(e){e&&this.getAccountList()}}},I=_,N=Object(u["a"])(I,p,b,!1,null,"2533efec",null),T=N.exports,k=a("8984"),$={name:"lawPage",props:["enforceId"],data:function(){return{loading:!0,searchObj:null,form:{pageSize:20,pageNum:1,isEffective:1},total:0,editObj:{title:"",editId:null,show:!1},seeObj:{show:!1,title:"",editId:null},TableObj:{title:"",editId:null,show:!1},list:[]}},components:{editAdd:m,LjSearchForm:k["a"],LjPagination:g["a"],historyTable:T,seeContent:y},methods:{seeFunction:function(e){this.seeObj.show=!0,this.seeObj.title="查看全部",this.seeObj.editId=e.clId},historyFunction:function(e){this.TableObj={editId:e.lawId,title:"查看历史版本",show:!0}},editFunction:function(e){this.editObj={title:"编辑",show:!0,type:"1",editId:e.clId}},changeFunction:function(e){this.editObj={title:"修改法律版本",type:"3",editId:e.clId,show:!0}},onAdd:function(){this.editObj.type="2",this.editObj.title="新增人员",this.editObj.show=!0},searchList:function(e){var t=this;e.enforceId=this.enforceId,this.loading=!0,Object(s["Ab"])(e).then(function(e){t.list=e.data,t.total=e.total,t.loading=!1})},getAccountList:function(){var e=this;this.form.enforceId=this.enforceId,Object(s["Ab"])(this.form).then(function(t){e.total=t.total,e.list=t.data;var a=[];t.data.forEach(function(e){e.name=e.lawName,e.id=e.lawId,a.push(e)}),e.$emit("upDateTree",a),e.loading=!1})}},filters:{isEffective:function(e){return o["h"][e]},formatDate:function(e){return Object(o["g"])(e,"yyyy-MM-dd")}},watch:{enforceId:function(){this.getAccountList()}},created:function(){this.getAccountList()}},C=$,x=(a("3dc5"),Object(u["a"])(C,i,n,!1,null,"fffd6b3c",null));t["default"]=x.exports},aa47:function(e,t,a){"use strict";var i=a("e752"),n=a.n(i);n.a},bd86:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var i=a("85f2"),n=a.n(i);function o(e,t,a){return t in e?n()(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},c1c1:function(e,t,a){"use strict";var i=a("7266"),n=a.n(i);n.a},d2a0:function(e,t,a){"use strict";var i=a("4462"),n=a.n(i);n.a},d336:function(e,t,a){"use strict";var i=a("e2e8"),n=a.n(i);n.a},e109:function(e,t,a){},e2e8:function(e,t,a){},e752:function(e,t,a){},f970:function(e,t,a){"use strict";var i=a("8c3e"),n=a.n(i);n.a}}]);
//# sourceMappingURL=chunk-c5888002.448495fd.js.map