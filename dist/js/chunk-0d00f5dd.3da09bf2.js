(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d00f5dd"],{"0a0d":function(e,t,a){e.exports=a("e829")},"1dc1":function(e,t,a){"use strict";var o=a("57c2"),r=a.n(o);r.a},"2f37":function(e,t,a){var o=a("63b6");o(o.S,"Date",{now:function(){return(new Date).getTime()}})},3368:function(e,t,a){},"360f":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8,id:"div-col"}},[a("el-tree",{attrs:{data:e.list,props:{label:"orgName"},"default-expand-all":""},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.node,r=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",{staticClass:"span-css",class:{"item-block":!0,active:r.orgId===e.detailId},on:{click:function(t){return t.stopPropagation(),e.showDetail(r)}}},[e._v(e._s(o.label))])])}}])})],1),a("el-col",{staticClass:"detail-block",attrs:{span:16}},[a("detail-page",{attrs:{id:e.detailId},on:{add:e.showHandleAdd,del:e.showHandleDel,showRole:e.showRole}})],1)],1),a("org-role-page",{attrs:{id:e.roleObj.id,orgName:e.roleObj.orgName,show:e.roleObj.show},on:{"update:show":function(t){return e.$set(e.roleObj,"show",t)}}}),a("edit-add",{ref:"child",attrs:{orgId:e.editObj.orgId,rowdata:e.rowdata,show:e.editObj.show,title:e.editObj.title,type:e.editObj.type},on:{"update:show":function(t){return e.$set(e.editObj,"show",t)},getList:e.getList}})],1)},r=[],n=(a("ac6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.show,center:"",title:"部门角色配置",width:"800px"},on:{close:e.closeDialog}},[a("el-popover",{attrs:{placement:"right",width:"435"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[a("el-input",{staticClass:"ipt-role",attrs:{placeholder:"请输入角色名称"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),a("el-select",{staticClass:"select-css",attrs:{"remote-method":e.remoteMethod,filterable:"",placeholder:"请输入指定人员",remote:"","reserve-keyword":""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return a("el-option",{key:e.loginId,attrs:{label:e.userName,value:e.loginId}})}),1),a("div",{staticClass:"wrop-do"},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.visible2=!1}}},[e._v("取消")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addRole}},[e._v("确定")])],1),a("el-button",{attrs:{slot:"reference",icon:"el-icon-plus",type:"success"},slot:"reference"},[e._v("添加配置")])],1),a("el-table",{staticClass:"wrop-tab",attrs:{data:e.list,"header-cell-style":{background:"#e9eff8"},border:"",size:"mini"}},[a("el-table-column",{attrs:{align:"center",label:"角色名",prop:"dictName"}}),a("el-table-column",{attrs:{align:"center",label:"人员",prop:"userName"}}),a("el-table-column",{attrs:{align:"center",label:"操作",prop:"idCard",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{"open-delay":500,content:"删除当前项",placement:"top"}},[a("el-link",{staticClass:"btn-link",attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(a){return a.stopPropagation(),e.delRole(t.row.urid)}}})],1)]}}])})],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.editObj.show,"append-to-body":"",center:"",title:"添加角色配置",width:"800px"},on:{close:function(t){e.editObj.show=!1}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(t){e.editObj.show=!1}}},[a("i",{staticClass:"iconfont icon-back"}),e._v("取 消\n            ")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[a("i",{staticClass:"iconfont icon-save"}),e._v("确 定\n            ")])],1)])],1)}),i=[],s=(a("7514"),a("8593")),l={name:"orgRole",props:["id","show","orgName"],data:function(){return{list:[],input:"",options:[],value:"",jobtitlesArr:[],visible2:!1,editObj:{show:!1,userId:""}}},methods:{remoteMethod:function(e){var t=this;Object(s["h"])({keyWord:e,pageNum:1,pageSize:20,orgId:this.id}).then(function(e){t.options=e.data})},addRole:function(){var e=this;if(this.input&&this.value){var t={orgId:this.id,orgName:this.orgName,dictName:this.input,loginId:this.value};t.userName=this.options.find(function(t){return t.loginId===e.value}).userName,Object(s["B"])(t).then(function(){e.visible2=!1,e.$message({type:"success",message:"添加成功!"}),e.initPage()})}},delRole:function(e){var t=this;this.$confirm("是否确定删除本条记录？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s["D"])(e).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.initPage()})})},closeDialog:function(){this.$emit("update:show",!1)},initPage:function(){var e=this;this.input="",this.value="",Object(s["F"])({orgId:this.id}).then(function(t){e.list=t.data,e.remoteMethod()})}},created:function(){},watch:{show:function(e){e&&this.initPage()}}},c=l,d=(a("a475"),a("2877")),m=Object(d["a"])(c,n,i,!1,null,"52f392f3",null),p=m.exports,u=a("6231"),f=a("8984"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.show,center:"",width:"800px"},on:{close:e.closeDialog}},[a("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"160px",size:"medium","status-icon":""}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v("基本信息")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门名称：",prop:"orgName"}},[a("el-input",{attrs:{placeholder:"请填写添加部门名称"},model:{value:e.form.orgName,callback:function(t){e.$set(e.form,"orgName",t)},expression:"form.orgName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门简称：",prop:""}},[a("el-input",{attrs:{placeholder:"请填写添加部门简称"},model:{value:e.form.departmentAbb,callback:function(t){e.$set(e.form,"departmentAbb",t)},expression:"form.departmentAbb"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门编号：",prop:"orgNumber"}},[a("el-input",{attrs:{placeholder:"请填写部门编号"},model:{value:e.form.orgNumber,callback:function(t){e.$set(e.form,"orgNumber",t)},expression:"form.orgNumber"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门代码：",prop:"orgCode"}},[a("el-input",{attrs:{placeholder:"请填写机构代码"},model:{value:e.form.orgCode,callback:function(t){e.$set(e.form,"orgCode",t)},expression:"form.orgCode"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"行政区域：",prop:"parentAdminManage"}},[a("el-cascader",{attrs:{options:e.provinceOptions,props:{value:"areaId",label:"areaName"},"show-all-levels":!1,"change-on-select":"","expand-trigger":"hover"},on:{change:e.handleItemChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱地址：",prop:"orgAreaCode"}},[a("el-input",{attrs:{placeholder:"请填写邮箱地址"},model:{value:e.form.orgAreaCode,callback:function(t){e.$set(e.form,"orgAreaCode",t)},expression:"form.orgAreaCode"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系人：",prop:"orgContacts"}},[a("el-input",{attrs:{placeholder:"请填联系人"},model:{value:e.form.orgContacts,callback:function(t){e.$set(e.form,"orgContacts",t)},expression:"form.orgContacts"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号：",prop:"orgTel"}},[a("el-input",{attrs:{placeholder:"请填写账户"},model:{value:e.form.orgTel,callback:function(t){e.$set(e.form,"orgTel",t)},expression:"form.orgTel"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"地址：",prop:"orgAddress"}},[a("el-input",{attrs:{placeholder:"请填写地址"},model:{value:e.form.orgAddress,callback:function(t){e.$set(e.form,"orgAddress",t)},expression:"form.orgAddress"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序：",prop:"orgOrder"}},[a("el-input",{attrs:{placeholder:"请填写排序值"},model:{value:e.form.orgOrder,callback:function(t){e.$set(e.form,"orgOrder",e._n(t))},expression:"form.orgOrder"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v("附加信息")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门案件编号：",prop:"orgCaseCode"}},[a("el-input",{attrs:{placeholder:"请填案件部门编号"},model:{value:e.form.orgCaseCode,callback:function(t){e.$set(e.form,"orgCaseCode",t)},expression:"form.orgCaseCode"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"落款单位：",prop:"departmentCode"}},[a("el-input",{attrs:{placeholder:"请填写落款单位"},model:{value:e.form.inscribedUnit,callback:function(t){e.$set(e.form,"inscribedUnit",t)},expression:"form.inscribedUnit"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"行政诉讼法院："}},[a("el-input",{attrs:{placeholder:"请填写行政诉讼法院"},model:{value:e.form.adminLawsuitCourt,callback:function(t){e.$set(e.form,"adminLawsuitCourt",t)},expression:"form.adminLawsuitCourt"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"上级(复议)业务单位：",prop:"parantBusManage"}},[a("el-input",{attrs:{placeholder:"请填上级业务主管单位"},model:{value:e.form.parantBusManage,callback:function(t){e.$set(e.form,"parantBusManage",t)},expression:"form.parantBusManage"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"上级(复议)行政单位：",prop:"parentAdminManage"}},[a("el-input",{attrs:{placeholder:"请填上级行政主管单位"},model:{value:e.form.parentAdminManage,callback:function(t){e.$set(e.form,"parentAdminManage",t)},expression:"form.parentAdminManage"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"info"},on:{click:e.closeDialog}},[a("i",{staticClass:"iconfont icon-back"}),e._v("取 消")]),a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[a("i",{staticClass:"iconfont icon-save"}),e._v("确 定")])],1)],1)],1)},h=[],b=a("0a0d"),v=a.n(b),_=a("f499"),C=a.n(_),O={name:"edit",props:["rowdata","show","title","orgId","type"],data:function(){return{form:{},dynamicValidateForm:{domains:[{value:""}],email:""},provinceOptions:[{areaId:this.$store.state.user.areaId,areaName:this.$store.state.user.areaName,children:[]}],selectedOptions:[],rules:{orgName:[{required:!0,message:"请输入部门名称",trigger:"blur"}],orgNumber:[{required:!0,message:"请输入组织编号",trigger:"blur"}]}}},methods:{handleItemChange:function(e){var t=this;1===e.length?Object(s["k"])(e[0]).then(function(e){e.areaList.forEach(function(e){e.children=[]}),t.provinceOptions[0].children=e.areaList}):2===e.length?Object(s["k"])(e[1]).then(function(a){a.areaList.forEach(function(e){e.children=[]}),t.provinceOptions[0].children.find(function(t){return t.areaId===e[1]}).children=a.areaList}):3===e.length&&Object(s["k"])(e[2]).then(function(a){t.provinceOptions[0].children.find(function(t){return t.areaId===e[1]}).children.find(function(t){return t.areaId===e[2]}).children=a.areaList})},closeDialog:function(){this.$emit("update:show",!1)},initPage:function(){var e=this;this.provinceOptions=[{areaId:this.$store.state.user.areaId,areaName:this.$store.state.user.areaName,children:[]}],this.selectedOptions=[],1==this.type?Object(s["E"])(this.orgId).then(function(t){e.form=t.data}):2==this.type?this.form={parentName:this.rowdata.orgName,orgName:"",orgNumber:"",parentCode:this.rowdata.orgId,orgOrder:0,orgCode:"",orgCaseCode:"",isParent:this.rowdata.isParent+1,orgAddress:"",orgTel:"",orgAreaCode:"",orgContacts:"",parantBusManage:this.rowdata.orgName,parentAdminManage:this.rowdata.orgName,adminLawsuitCourt:this.rowdata.adminLawsuitCourt}:this.form={orgName:"",orgNumber:"",parentCode:0,isParent:1,orgOrder:0,orgCode:"",orgCaseCode:"",orgAddress:"",orgTel:"",orgAreaCode:"",orgContacts:"",parantBusManage:"",parentAdminManage:"",adminLawsuitCourt:""}},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({type:"warning",message:"请把带星号的信息填写完整!"}),!1;if(t.closeDialog(),1==t.type)Object(s["H"])(t.form).then(function(e){t.$emit("getList"),t.$message({type:"success",message:"修改成功!"}),t.$emit("getList")});else if(2==t.type){for(var a={children:JSON.parse(C()(t.provinceOptions))},o=function(e){a=a.children.find(function(a){return a.areaId==t.selectedOptions[e]})},r=0;r<t.selectedOptions.length;r++)o(r);t.form.areaCode=a.areaId?a.areaId:"",t.form.areaName=a.areaName?a.areaName:"",Object(s["A"])(t.form).then(function(e){t.$emit("getList"),t.$message({type:"success",message:"添加成功!"}),t.$emit("getList")})}})},removeDomain:function(e){var t=this.dynamicValidateForm.domains.indexOf(e);-1!==t&&this.dynamicValidateForm.domains.splice(t,1)},addDomain:function(){this.dynamicValidateForm.domains.push({value:"",key:v()()})}},watch:{show:function(e,t){var a=this;e&&(this.$nextTick(function(){a.$refs.ruleForm.clearValidate()}),this.initPage())}}},w=O,k=(a("988f"),Object(d["a"])(w,g,h,!1,null,"590c1e9b",null)),y=k.exports,x=a("ce44"),F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail-block"},[e.form?a("div",{staticClass:"button-block"},[a("el-button",{attrs:{icon:"el-icon-s-tools",plain:"",size:"mini",type:"primary"},on:{click:e.showRole}},[e._v("\n            部门角色配置\n        ")]),a("el-button",{attrs:{icon:"el-icon-plus",plain:"",size:"mini",type:"primary"},on:{click:e.addThis}},[e._v("\n            添加子项\n        ")]),a("el-button",{attrs:{icon:"el-icon-edit",plain:"",size:"mini",type:"warning"},on:{click:function(t){e.editFlag=!0}}},[e._v("\n            编辑\n        ")]),a("el-button",{attrs:{icon:"el-icon-delete",plain:"",size:"mini",type:"danger"},on:{click:e.delThis}},[e._v("\n            删除该项\n        ")])],1):e._e(),e.editFlag?e._e():a("table",{staticClass:"tab-wrop"},[e._m(0),a("tr",[a("td",{staticClass:"label"},[e._v("部门名称：")]),a("td",[e._v(e._s(e.form.orgName))]),a("td",{staticClass:"label"},[e._v("部门简称：")]),a("td",[e._v(e._s(e.form.departmentAbb))])]),a("tr",[a("td",{staticClass:"label"},[e._v("部门编号：")]),a("td",[e._v(e._s(e.form.orgNumber))]),a("td",{staticClass:"label"},[e._v("部门代码：")]),a("td",[e._v(e._s(e.form.orgCode))])]),a("tr",[a("td",{staticClass:"label"},[e._v("行政区域：")]),a("td",[a("div",[e._v(e._s(e.form.areaName))])]),a("td",{staticClass:"label"},[e._v("邮箱地址：")]),a("td",[e._v(e._s(e.form.orgAreaCode))])]),a("tr",[a("td",{staticClass:"label"},[e._v("手机号：")]),a("td",[e._v(e._s(e.form.orgTel))]),a("td",{staticClass:"label"},[e._v("联系人：")]),a("td",[e._v(e._s(e.form.orgContacts))])]),a("tr",[a("td",{staticClass:"label"},[e._v("地址：")]),a("td",[e._v(e._s(e.form.orgAddress))]),a("td",{staticClass:"label"},[e._v("排序：")]),a("td",[e._v(e._s(e.form.orgOrder))])]),e._m(1),a("tr",[a("td",{staticClass:"label"},[e._v("案件部门编号：")]),a("td",[e._v(e._s(e.form.orgCaseCode))]),a("td",{staticClass:"label"},[e._v("落款单位：")]),a("td",[e._v(e._s(e.form.inscribedUnit))])]),a("tr",[a("td",{staticClass:"label"},[e._v("上级(复议)业务单位：")]),a("td",[e._v(e._s(e.form.parantBusManage))]),a("td",{staticClass:"label"},[e._v("上级(复议)行政单位：")]),a("td",[e._v(e._s(e.form.parentAdminManage))])]),a("tr",[a("td",{staticClass:"label"},[e._v("诉讼法院：")]),a("td",[e._v(e._s(e.form.adminLawsuitCourt))]),a("td"),a("td")])]),e.editFlag?a("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"170px",size:"medium","status-icon":""}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v("基本信息")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门名称：",prop:"orgName"}},[a("el-input",{attrs:{placeholder:"请填写添加部门名称"},model:{value:e.form.orgName,callback:function(t){e.$set(e.form,"orgName",t)},expression:"form.orgName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门简称：",prop:""}},[a("el-input",{attrs:{placeholder:"请填写添加部门简称"},model:{value:e.form.departmentAbb,callback:function(t){e.$set(e.form,"departmentAbb",t)},expression:"form.departmentAbb"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门编号：",prop:"orgNumber"}},[e.editFlag?a("el-input",{attrs:{placeholder:"请填写部门编号"},model:{value:e.form.orgNumber,callback:function(t){e.$set(e.form,"orgNumber",t)},expression:"form.orgNumber"}}):e._e(),e.editFlag?e._e():a("div",[e._v(e._s(e.form.orgNumber))])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门代码：",prop:"orgCode"}},[e.editFlag?a("el-input",{attrs:{placeholder:"请填写机构代码"},model:{value:e.form.orgCode,callback:function(t){e.$set(e.form,"orgCode",t)},expression:"form.orgCode"}}):e._e(),e.editFlag?e._e():a("div",[e._v(e._s(e.form.orgCode))])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"行政区域：",prop:"parentAdminManage"}},[e.editFlag&&e.areaFlag?a("el-cascader",{attrs:{options:e.provinceOptions,props:{value:"areaId",label:"areaName"},"show-all-levels":!1,"change-on-select":"","expand-trigger":"hover"},on:{change:e.handleItemChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}}):e._e(),e.areaFlag?e._e():a("div",{on:{click:function(t){e.editFlag&&(e.areaFlag=!e.areaFlag)}}},[e._v(e._s(e.form.areaName)+"\n                        "),e.editFlag?a("div",{staticClass:"icon-div"},[a("i",{staticClass:"el-icon-edit"})]):e._e()])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱地址：",prop:"orgAreaCode"}},[e.editFlag?a("el-input",{attrs:{placeholder:"请填写邮箱地址"},model:{value:e.form.orgAreaCode,callback:function(t){e.$set(e.form,"orgAreaCode",t)},expression:"form.orgAreaCode"}}):e._e(),e.editFlag?e._e():a("div",[e._v(e._s(e.form.orgAreaCode))])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系人：",prop:"orgContacts"}},[e.editFlag?a("el-input",{attrs:{placeholder:"请填联系人"},model:{value:e.form.orgContacts,callback:function(t){e.$set(e.form,"orgContacts",t)},expression:"form.orgContacts"}}):e._e(),e.editFlag?e._e():a("div",[e._v(e._s(e.form.orgContacts))])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号：",prop:"orgTel"}},[e.editFlag?a("el-input",{attrs:{placeholder:"请填写账户"},model:{value:e.form.orgTel,callback:function(t){e.$set(e.form,"orgTel",t)},expression:"form.orgTel"}}):e._e(),e.editFlag?e._e():a("div",[e._v(e._s(e.form.orgTel))])],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"地址：",prop:"orgAddress"}},[e.editFlag?a("el-input",{attrs:{placeholder:"请填写地址"},model:{value:e.form.orgAddress,callback:function(t){e.$set(e.form,"orgAddress",t)},expression:"form.orgAddress"}}):e._e(),e.editFlag?e._e():a("div",[e._v(e._s(e.form.orgAddress))])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序：",prop:"orgOrder"}},[e.editFlag?a("el-input",{attrs:{placeholder:"请填写排序值"},model:{value:e.form.orgOrder,callback:function(t){e.$set(e.form,"orgOrder",e._n(t))},expression:"form.orgOrder"}}):e._e(),e.editFlag?e._e():a("div",[e._v(e._s(e.form.orgOrder))])],1)],1),a("el-col",{attrs:{span:24}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v("附加信息")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"案件部门编号：",prop:"orgCaseCode"}},[e.editFlag?a("el-input",{attrs:{placeholder:"请填案件部门编号"},model:{value:e.form.orgCaseCode,callback:function(t){e.$set(e.form,"orgCaseCode",t)},expression:"form.orgCaseCode"}}):e._e(),e.editFlag?e._e():a("div",[e._v(e._s(e.form.orgCaseCode))])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"落款单位：",prop:"departmentCode"}},[e.editFlag?a("el-input",{attrs:{placeholder:"请填写落款单位"},model:{value:e.form.inscribedUnit,callback:function(t){e.$set(e.form,"inscribedUnit",t)},expression:"form.inscribedUnit"}}):e._e(),e.editFlag?e._e():a("div",[e._v(e._s(e.form.inscribedUnit))])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"上级(复议)业务单位：",prop:"parantBusManage"}},[e.editFlag?a("el-input",{attrs:{placeholder:"请填上级业务主管单位"},model:{value:e.form.parantBusManage,callback:function(t){e.$set(e.form,"parantBusManage",t)},expression:"form.parantBusManage"}}):e._e(),e.editFlag?e._e():a("div")],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"上级(复议)行政单位：",prop:"parentAdminManage"}},[e.editFlag?a("el-input",{attrs:{placeholder:"请填上级行政主管单位"},model:{value:e.form.parentAdminManage,callback:function(t){e.$set(e.form,"parentAdminManage",t)},expression:"form.parentAdminManage"}}):e._e(),e.editFlag?e._e():a("div",[e._v(e._s(e.form.parentAdminManage))])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"行政诉讼法院："}},[e.editFlag?a("el-input",{attrs:{placeholder:"请填写行政诉讼法院"},model:{value:e.form.adminLawsuitCourt,callback:function(t){e.$set(e.form,"adminLawsuitCourt",t)},expression:"form.adminLawsuitCourt"}}):e._e(),e.editFlag?e._e():a("div",[e._v(e._s(e.form.adminLawsuitCourt))])],1)],1)],1),e.editFlag?a("div",{staticClass:"wrop-do"},[a("el-button",{attrs:{size:"medium",type:"info"},on:{click:function(t){return e.initPage("ruleForm")}}},[a("i",{staticClass:"iconfont icon-back"}),e._v("取 消\n            ")]),a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[a("i",{staticClass:"iconfont icon-save"}),e._v("确 定\n            ")])],1):e._e()],1):e._e()],1)},N=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",{attrs:{colspan:"4"}},[a("b",[e._v("基本信息")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",{attrs:{colspan:"4"}},[a("b",[e._v("附加信息")])])])}],$={name:"edit",props:["id"],data:function(){return{selectedOptions:[],editFlag:!1,areaFlag:!1,form:{},provinceOptions:[{areaId:this.$store.state.user.areaId,areaName:this.$store.state.user.areaName,children:[]}],area:[],dynamicValidateForm:{domains:[{value:""}],email:""},rules:{orgName:[{required:!0,message:"请输入部门名称",trigger:"blur"}],orgNumber:[{required:!0,message:"请输入部门编号",trigger:"blur"}]}}},methods:{handleItemChange:function(e){var t=this;1===e.length?Object(s["k"])(e[0]).then(function(e){e.areaList.forEach(function(e){e.children=[]}),t.provinceOptions[0].children=e.areaList}):2===e.length?Object(s["k"])(e[1]).then(function(a){a.areaList.forEach(function(e){e.children=[]}),t.provinceOptions[0].children.find(function(t){return t.areaId===e[1]}).children=a.areaList}):3===e.length&&Object(s["k"])(e[2]).then(function(a){t.provinceOptions[0].children.find(function(t){return t.areaId===e[1]}).children.find(function(t){return t.areaId===e[2]}).children=a.areaList})},initPage:function(){var e=this;this.areaFlag=!1,this.selectedOptions=[],this.editFlag=!1,Object(s["E"])(this.id).then(function(t){e.form=t.data})},showRole:function(){var e={id:this.id,orgName:this.form.orgName};this.$emit("showRole",e)},delThis:function(){this.$emit("del",this.form)},addThis:function(){this.$emit("add",this.form)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({type:"warning",message:"请把带星号的信息填写完整!"}),!1;if(t.areaFlag){for(var a={children:JSON.parse(C()(t.provinceOptions))},o=function(e){a=a.children.find(function(a){return a.areaId==t.selectedOptions[e]})},r=0;r<t.selectedOptions.length;r++)o(r);t.form.areaCode=a.areaId,t.form.areaName=a.areaName}Object(s["H"])(t.form).then(function(e){t.$message({type:"success",message:"修改成功!"}),t.initPage()})})},removeDomain:function(e){var t=this.dynamicValidateForm.domains.indexOf(e);-1!==t&&this.dynamicValidateForm.domains.splice(t,1)},addDomain:function(){this.dynamicValidateForm.domains.push({value:"",key:v()()})}},created:function(){},watch:{id:function(e,t){this.initPage()}}},j=$,A=(a("1dc1"),Object(d["a"])(j,F,N,!1,null,"82fe42f6",null)),I=A.exports,L={name:"organizationPage",data:function(){return{detailId:"",list:[],expandKeys:[],rowdata:[],roleObj:{show:!1,id:"",orgName:""},editObj:{show:!1,title:"",editId:null,type:""}}},components:{searchForm:f["a"],editAdd:y,IEcharts:x["a"],detailPage:I,orgRolePage:p},methods:{getList:function(){var e=this;Object(s["G"])().then(function(t){t.data.forEach(function(e){e.name=e.orgName}),e.list=Object(u["a"])(t.data,"orgId","parentCode","isParent"),e.expandKeys=[]})},showRole:function(e){this.roleObj.id=e.id,this.roleObj.orgName=e.orgName,this.roleObj.show=!0},initPage:function(){var e=this;Object(s["G"])().then(function(t){console.log(t),t.data.forEach(function(e){e.name=e.orgName}),e.list=Object(u["a"])(t.data,"orgId","parentCode","isParent"),e.showDetail(e.list[0]),e.expandKeys=[]})},showDetail:function(e){this.detailId=e.orgId},handleNodeClick:function(){},showHandleAdd:function(e){this.rowdata=e,this.editObj.title="添加子集",this.editObj.type=2,this.editObj.show=!0},showHandleDel:function(e){var t=this;e.children&&0!=e.children.length?this.$message({type:"warning",message:"请先清空下级部门"}):this.$confirm("此操作将删除该组织机构, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s["C"])(e.orgId).then(function(e){t.initPage(),t.$message({type:"success",message:"删除成功!"})})})},onAdd:function(){this.editObj.editId=null,this.editObj.title="新增组织父级",this.editData={},this.rowdata=this.editData,this.editObj.type=2,this.editObj.show=!0}},created:function(){this.initPage()},mounted:function(){}},M=L,D=(a("4b95"),Object(d["a"])(M,o,r,!1,null,"b736f7fc",null));t["default"]=D.exports},"4b95":function(e,t,a){"use strict";var o=a("963e"),r=a.n(o);r.a},"53a6":function(e,t,a){},"57c2":function(e,t,a){},8984:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"clear-float",staticStyle:{"margin-bottom":"10px"}},[e.searchFlag?e._e():a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入查询条件"},model:{value:e.form.keyWord,callback:function(t){e.$set(e.form,"keyWord",t)},expression:"form.keyWord"}}),e.searchFlag?e._e():a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.searchList}},[e._v("搜索\n        ")]),a("div",{staticClass:"right-box"},[e.searchObj?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){e.searchFlag=!e.searchFlag}}},[e._v("\n                筛选更多"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]):e._e(),e.onCreate?a("el-button",{attrs:{icon:"el-icon-refresh",plain:"",type:"success"},on:{click:e.onCreate}},[e._v("生成当月检查数据\n            ")]):e._e(),e.onDel?a("el-button",{attrs:{icon:"el-icon-delete",plain:"",type:"danger"},on:{click:e.onDel}},[e._v("批量删除")]):e._e(),e.toVoid?a("el-button",{attrs:{icon:"el-icon-folder-delete",plain:"",type:"warning"},on:{click:e.toVoid}},[e._v("作废")]):e._e(),e.onAdd?a("el-button",{attrs:{icon:"el-icon-plus",plain:"",type:"primary"},on:{click:e.onAdd}},[e._v("新增")]):e._e(),e.onExport?a("el-button",{attrs:{icon:"el-icon-sort-down",plain:"",type:"primary"},on:{click:e.onExport}},[e._v("导出\n            ")]):e._e(),e.onImport?a("el-button",{attrs:{icon:"el-icon-sort-up",plain:"",type:"primary"},on:{click:e.onImport}},[e._v("批量导入\n            ")]):e._e()],1)],1),a("transition",{attrs:{name:"el-zoom-in-top"}},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.searchFlag,expression:"searchFlag"}],ref:"form",staticClass:"search-box",staticStyle:{"padding-bottom":"10px"},attrs:{"label-width":"100px",size:"mini"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"关键字："}},[e.searchFlag?a("el-input",{attrs:{placeholder:"请输入查询条件"},model:{value:e.form.keyWord,callback:function(t){e.$set(e.form,"keyWord",t)},expression:"form.keyWord"}}):e._e()],1)],1),e._l(e.searchObj,function(t){return a("el-col",{key:t.name,attrs:{span:t.span?t.span:8}},[a("el-form-item",{attrs:{label:t.label+"："}},["input"===t.type?a("el-input",{model:{value:e.form[t.name],callback:function(a){e.$set(e.form,t.name,a)},expression:"form[data.name]"}}):e._e(),"select"===t.type?a("el-select",{model:{value:e.form[t.name],callback:function(a){e.$set(e.form,t.name,a)},expression:"form[data.name]"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._l(t.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2):e._e(),"date"===t.type?a("el-date-picker",{attrs:{type:t.dateType,"end-placeholder":"结束日期","range-separator":"至","start-placeholder":"开始日期","value-format":"timestamp"},model:{value:e.form[t.name],callback:function(a){e.$set(e.form,t.name,a)},expression:"form[data.name]"}}):e._e()],1)],1)}),a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{"text-align":"center"}},[e.searchFlag?a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.refreshList}},[e._v("重置\n                        ")]):e._e(),e.searchFlag?a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.searchList}},[e._v("搜索\n                        ")]):e._e()],1)])],2)],1)],1)],1)},r=[],n=(a("7f7f"),{name:"searchForm",props:["searchObj","onAdd","onExport","onImport","onDel","onCreate","toVoid"],data:function(){var e={pageSize:20,pageNum:1,keyWord:""};for(var t in this.searchObj)"timeRange"===this.searchObj[t].name?(e[this.searchObj[t].name]=[],e[this.searchObj[t].name1]="",e[this.searchObj[t].name2]=""):e[this.searchObj[t].name]="";return{searchFlag:!1,searchKey:"",form:e}},methods:{refreshList:function(){for(var e in this.form)this.form[e]=""},searchList:function(){for(var e in this.searchObj)"timeRange"===this.searchObj[e].name&&(this.form[this.searchObj[e].name1]=this.form[this.searchObj[e].name][0],this.form[this.searchObj[e].name2]=this.form[this.searchObj[e].name][1]);this.form.pageNum=1,this.$emit("searchList",this.form)}}}),i=n,s=(a("a53f"),a("2877")),l=Object(s["a"])(i,o,r,!1,null,"07a28794",null);t["a"]=l.exports},"8c0a2":function(e,t,a){},"963e":function(e,t,a){},"988f":function(e,t,a){"use strict";var o=a("3368"),r=a.n(o);r.a},a475:function(e,t,a){"use strict";var o=a("53a6"),r=a.n(o);r.a},a53f:function(e,t,a){"use strict";var o=a("8c0a2"),r=a.n(o);r.a},e829:function(e,t,a){a("2f37"),e.exports=a("584a").Date.now}}]);
//# sourceMappingURL=chunk-0d00f5dd.3da09bf2.js.map