(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{1914:function(e,t,s){"use strict";var o=s("1daf"),a=s.n(o);a.a},"1daf":function(e,t,s){},"252d":function(e,t,s){},3438:function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main-tabs"},[s("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.onToRoute,"tab-remove":e.removeTab},model:{value:e.editableTabsValue2,callback:function(t){e.editableTabsValue2=t},expression:"editableTabsValue2"}},e._l(e.$store.state.tabsList,function(e){return s("el-tab-pane",{key:e.name,attrs:{closable:!e.noDel,label:e.label,name:e.path}})}),1)],1)},a=[],n=(s("20d6"),s("7f7f"),{name:"tabs",data:function(){return{editableTabsValue2:this.$route.name}},methods:{onToRoute:function(e){this.$router.push({path:e.name})},removeTab:function(e){var t=this,s=this.$store.state.tabsList.findIndex(function(t){return t.path===e});this.$store.dispatch("removeTabs",e).then(function(o){t.$route.path===e&&t.$router.push({path:t.$store.state.tabsList[s-1].path})})}},mounted:function(){var e={name:this.$route.name,label:this.$route.meta.label,path:this.$route.path};this.$store.dispatch("addTabsList",e),this.editableTabsValue2=this.$route.path},watch:{$route:function(e){var t={name:e.name,label:e.meta.label,path:e.path};this.$store.dispatch("addTabsList",t),this.editableTabsValue2=e.path}}}),r=n,i=(s("d777"),s("2877")),l=Object(i["a"])(r,o,a,!1,null,"5afa1edc",null);t["a"]=l.exports},"4c31":function(e,t,s){},"616b":function(e,t,s){},"637c":function(e,t,s){"use strict";var o=s("4c31"),a=s.n(o);a.a},7630:function(e,t,s){},"82f3":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",{staticClass:"home-page"},[s("el-header",{attrs:{height:"50px"}},[s("header-comp")],1),s("el-container",[s("el-main",{staticClass:"main-block"},[s("div",{staticClass:"menu-block"},[s("aside-comp")],1),s("div",{staticClass:"main-view"},[s("transition",{attrs:{name:"el-fade-in-linear"}},[s("keep-alive",{attrs:{include:e.$store.state.include}},[s("router-view",{staticClass:"view-block"})],1)],1),s("div",{staticClass:"footer"},[e._v("©版权所有 上海龙进天下信息技术有限公司")])],1)])],1)],1)},a=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header-comp"},[s("div",{staticClass:"head-block"},[e._m(0),s("div",{staticClass:"right-menu"},[s("div",{staticClass:"menu-item"},[s("el-dropdown",{attrs:{size:"medium",trigger:"click"},on:{command:e.handleCommand}},[s("div",{staticClass:"el-dropdown-link"},[e._v("\n                        "+e._s(e.greetings)+"，"+e._s(e.$store.state.user.login.userName)),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"ChangePassword"}},[e._v("修改密码")]),e.$store.state.setRoleList.length>1?s("el-dropdown-item",{attrs:{command:"role"}},[e._v(" 切换角色")]):e._e(),s("el-dropdown-item",{attrs:{command:"logout"}},[e._v("退出登录")])],1)],1)],1),e._m(1),e._m(2),s("div",{staticClass:"menu-item"},[e._v("\n                "+e._s(e.nowTime)+"\n                "),s("span",[e._v("晴转多云 17-31°")])])])]),s("change-password",{attrs:{show:e.editObj.isshow,title:e.editObj.title},on:{"update:show":function(t){return e.$set(e.editObj,"isshow",t)}}}),e.checkRoleObj.show?s("check-role",{attrs:{show:e.checkRoleObj.show},on:{"update:show":function(t){return e.$set(e.checkRoleObj,"show",t)}}}):e._e()],1)},r=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"title-block"},[o("img",{staticClass:"header-logo",attrs:{src:s("cf05")}}),o("span",{staticClass:"text"},[e._v("智慧城管执法平台 | ")]),o("span",{staticClass:"small"},[e._v("网上办案系统")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"menu-item"},[s("i",{staticClass:"el-icon-message menu-icon"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"menu-item"},[s("i",{staticClass:"el-icon-alarm-clock menu-icon"})])}],i=s("8593"),l=s("2cc9"),c=s("9057"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"wrop"},[s("el-dialog",{attrs:{title:e.title,visible:e.show,center:"",width:"30%"},on:{close:e.closeDialog}},[e.loginSuccess?s("el-form",{ref:"check",attrs:{model:e.ruleFormCheck,rules:e.rules,"label-width":"80px","status-icon":""}},[s("el-form-item",{attrs:{label:"登录名",prop:"loginName"}},[s("el-input",{attrs:{placeholder:"请输入登录名"},model:{value:e.ruleFormCheck.loginName,callback:function(t){e.$set(e.ruleFormCheck,"loginName",t)},expression:"ruleFormCheck.loginName"}})],1),s("el-form-item",{attrs:{label:"原密码",prop:"loginPwd"}},[s("el-input",{attrs:{placeholder:"请输入原密码"},model:{value:e.ruleFormCheck.loginPwd,callback:function(t){e.$set(e.ruleFormCheck,"loginPwd",t)},expression:"ruleFormCheck.loginPwd"}})],1)],1):s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px","status-icon":""}},[s("el-form-item",{attrs:{label:"用户名"}},[s("el-input",{attrs:{placeholder:"请输入登录名"},model:{value:e.ruleForm.loginName,callback:function(t){e.$set(e.ruleForm,"loginName",t)},expression:"ruleForm.loginName"}})],1),s("el-form-item",{attrs:{label:"新密码",prop:"pass"}},[s("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入新密码",type:"password"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),s("el-form-item",{attrs:{label:"确认密码",prop:"newloginPwd"}},[s("el-input",{attrs:{"auto-complete":"off",placeholder:"请再次确认密码",type:"password"},model:{value:e.ruleForm.newloginPwd,callback:function(t){e.$set(e.ruleForm,"newloginPwd",t)},expression:"ruleForm.newloginPwd"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),e.loginSuccess?s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm1Check("check")}}},[e._v("确 定")]):s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormChange("ruleForm")}}},[e._v("确 定")])],1)],1)],1)])},m=[],d={props:{show:{type:Boolean,default:!1},title:{type:String,default:""}},data:function(){var e=this,t=function(t,s,o){""===s?o(new Error("请输入密码")):(""!==e.ruleForm.newloginPwd&&e.$refs.ruleForm.validateField("newloginPwd"),o())},s=function(t,s,o){""===s?o(new Error("请再次输入密码")):s!==e.ruleForm.pass?o(new Error("两次输入密码不一致!")):o()};return{loginSuccess:!0,ruleFormCheck:{loginName:"",loginPwd:""},ruleForm:{loginName:"",newloginPwd:"",pass:""},rules:{loginPwd:[{required:!0,validator:t,trigger:"blur"},{message:"密码不能为空",trigger:"blur"},{min:6,max:18,message:"请输入 6 到 18 个字符",trigger:"blur"}],pass:[{required:!0,validator:t,trigger:"blur"},{message:"密码不能为空",trigger:"blur"},{min:6,max:18,message:"请输入 6 到 18 个字符",trigger:"blur"}],newloginPwd:[{required:!0,validator:s,trigger:"blur"},{message:"密码不能为空",trigger:"blur"},{min:6,max:18,message:"请输入 6 到 18 个字符",trigger:"blur"}],loginName:[{required:!0,message:"用户名不能为空",trigger:"blur"}]}}},methods:{closeDialog:function(){this.$emit("update:show",!1)},submitForm1Check:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;Object(i["I"])(t.ruleFormCheck).then(function(e){t.$message({type:"success",message:"原密码检测成功!"}),t.ruleForm.loginName=t.ruleFormCheck.loginName,t.loginSuccess=!1})})},submitFormChange:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;Object(i["J"])(t.ruleForm).then(function(e){t.$message({type:"success",message:"密码修改成功!"}),t.closeDialog()})})}}},h=d,f=(s("1914"),s("2877")),p=Object(f["a"])(h,u,m,!1,null,"0559709e",null),b=p.exports,g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"切换角色",visible:e.show,width:"30%",center:""},on:{"update:visible":function(t){e.show=t},close:e.closeDialog}},[e.$store.state.setRoleList?s("div",{staticStyle:{"text-align":"center"}},e._l(e.$store.state.setRoleList,function(t){return s("el-radio",{key:t.roleId,attrs:{label:t.roleId,border:""},model:{value:e.roleId,callback:function(t){e.roleId=t},expression:"roleId"}},[e._v(e._s(t.roleName))])}),1):e._e(),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.sureBtn}},[e._v("确 定")])],1)])},v=[],w={name:"checkRole",props:["show"],data:function(){return{roleId:this.$store.state.role}},methods:{sureBtn:function(){this.$store.dispatch("setRoleId",this.roleId),window.location.reload()},closeDialog:function(){this.$emit("update:show",!1)}}},C=w,k=Object(f["a"])(C,g,v,!1,null,"77e86cb4",null),_=k.exports,$={name:"headerComp",components:{ChangePassword:b,CheckRole:_},data:function(){var e=function(){var e=new Date,t=e.getHours();return t>=0&&t<11?"早上好":t>=11&&t<13?"中午好":t>=13&&t<17?"下午好":t>=17&&t<24?"晚上好":void 0};return{greetings:e(),nowTime:Object(c["g"])(Date.parse(new Date),"yyyy年M月d日"),editObj:{show:!1,title:"",isshow:!1},checkRoleObj:{show:!1}}},methods:{handleCommand:function(e){var t=this;"logout"===e?this.$confirm("此操作将退出当前登录账号, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i["n"])().then(function(){localStorage.removeItem("token"),t.$router.push({name:"login"}),t.$nextTick(function(){Object(l["b"])()})})}):"ChangePassword"===e?(this.editObj.isshow=!0,this.editObj.title="修改密码"):"role"===e&&(this.checkRoleObj.show=!0)}}},T=$,F=(s("b9de"),Object(f["a"])(T,n,r,!1,null,"17d47471",null)),x=F.exports,y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"el-fade-in-linear"}},[s("div",{staticClass:"menu-ul"},[s("ul",[s("li",{on:{mouseover:e.showMenuTotal}},[s("span",{staticClass:"icon-box"},[s("i",{staticClass:"iconfont icon-caidan"})]),s("span",{staticClass:"name-block"},[e._v("全部功能")]),s("span",{staticClass:"arrow-box"},[s("i",{staticClass:"el-icon-arrow-right"})]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.menuTotal,expression:"menuTotal"}],staticClass:"menu-total",on:{click:function(t){return t.target!==t.currentTarget?null:e.closeMenuTotal(t)}}},[s("lj-menu-item"),s("i",{staticClass:"el-icon-close",on:{click:e.closeMenuTotal}})],1)]),e._l(e.$store.state.menuList,function(t,o){return s("li",{key:o,class:{"menu-item":!0,active:e.$route.matched[1].name===t.resCode},on:{click:function(s){return e.toRouter(t)}}},[s("span",{staticClass:"icon-box"},[s("i",{class:"iconfont icon-"+t.resStyle})]),s("span",{staticClass:"name-block"},[e._v(e._s(t.resName))]),s("span",{staticClass:"arrow-box"},[s("i",{staticClass:"el-icon-arrow-right"})])])})],2)])])},j=[],O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"menu-block-total"},e._l(e.$store.state.menuList,function(t,o){return s("div",{key:o,staticClass:"menu-li"},[s("div",{staticClass:"title"},[e._v(e._s(t.resName))]),e._l(t.children,function(t,o){return s("div",{key:o},[2==t.resType?s("div",{staticClass:"item",on:{click:function(s){return e.toRouter(t)}}},[e._v(e._s(t.resName))]):e._e(),e._l(t.children,function(o,a){return 1==t.resType?s("div",{key:a,staticClass:"item thirdchildren",on:{click:function(t){return e.toRouter(o)}}},[e._v("\n                "+e._s(o.resName)+"\n            ")]):e._e()})],2)})],2)}),0)},N=[],R={name:"menuItem",data:function(){return{}},methods:{toRouter:function(e){var t=this;console.log(e),this.$parent.menuTotal=!1,this.$nextTick(function(s){t.$router.push({name:e.resCode})})}}},P=R,E=(s("f0f0"),Object(f["a"])(P,O,N,!1,null,"16860db4",null)),I=E.exports,D={name:"left",components:{LjMenuItem:I},data:function(){return{menuType:!0,menuTotal:!1}},methods:{toRouter:function(e){this.$router.push({name:e.resCode})},showMenuTotal:function(){var e=this;setTimeout(function(){e.menuTotal=!0},500)},closeMenuTotal:function(){this.menuTotal=!1}}},L=D,S=(s("df70"),Object(f["a"])(L,y,j,!1,null,"0255479a",null)),M=S.exports,V=s("3438"),B={name:"home",components:{headerComp:x,asideComp:M,iTabs:V["a"]}},q=B,J=(s("637c"),Object(f["a"])(q,o,a,!1,null,"659b2166",null));t["default"]=J.exports},b9de:function(e,t,s){"use strict";var o=s("d324"),a=s.n(o);a.a},cf05:function(e,t,s){e.exports=s.p+"img/logo.abc75417.png"},d324:function(e,t,s){},d777:function(e,t,s){"use strict";var o=s("252d"),a=s.n(o);a.a},df70:function(e,t,s){"use strict";var o=s("616b"),a=s.n(o);a.a},f0f0:function(e,t,s){"use strict";var o=s("7630"),a=s.n(o);a.a}}]);
//# sourceMappingURL=home.43ecdfb6.js.map