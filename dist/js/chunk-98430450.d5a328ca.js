(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-98430450"],{"4db9":function(e,t,a){},"7bbc":function(e,t,a){"use strict";var s=a("4db9"),n=a.n(s);n.a},f794:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){return e.onAdd(!1,!1)}}},[a("i",{staticClass:"iconfont icon-xinzeng"}),e._v("新增父级资源\n        ")])],1),a("el-table",{staticClass:"tab-wrop",attrs:{data:e.tableData,"header-cell-style":{background:"#e9eff8"},border:"","row-key":"resId"},on:{"row-click":e.seeFunction}},[a("el-table-column",{attrs:{label:"资源名",prop:"resName"}}),a("el-table-column",{attrs:{align:"center",label:"code",prop:"resCode"}}),a("el-table-column",{attrs:{align:"center",label:"资源类型",prop:"resName",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e._f("menuType")(t.row.resType))+"\n            ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作",prop:"resName",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{"open-delay":500,content:"添加子项",placement:"top"}},[a("el-link",{attrs:{icon:"el-icon-plus",type:"success"},on:{click:function(a){return a.stopPropagation(),e.onAdd(!0,t.row)}}})],1),a("el-tooltip",{attrs:{"open-delay":500,content:"修改",placement:"top"}},[e.buttonCheck("edit")?a("el-link",{staticClass:"btn-link",attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(a){return a.stopPropagation(),e.onAdd(!1,t.row)}}}):e._e()],1),a("el-tooltip",{attrs:{"open-delay":500,content:"删除当前项",placement:"top"}},[e.buttonCheck("delete")?a("el-link",{staticClass:"btn-link",attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(a){return a.stopPropagation(),e.onDel(t.row)}}}):e._e()],1)]}}])})],1),a("watch-page",{attrs:{data:e.watchObj,show:e.watchShow},on:{"update:show":function(t){e.watchShow=t}}}),a("add-dialog",{attrs:{data:e.newMenu},on:{updateData:e.initPage}})],1)},n=[],l=(a("6b54"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.data.title,visible:e.data.show,center:"",width:"500px"},on:{"update:visible":function(t){return e.$set(e.data,"show",t)}}},[a("el-form",{ref:"data",attrs:{model:e.data,"label-width":"80px",size:"medium"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"请输入权籍显示名"},model:{value:e.data.resName,callback:function(t){e.$set(e.data,"resName",t)},expression:"data.resName"}})],1),a("el-form-item",{attrs:{label:"权籍类型"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:e.data.resType,callback:function(t){e.$set(e.data,"resType",t)},expression:"data.resType"}},e._l(e.menuTypeOptionList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),"3"!==e.data.resType?a("el-form-item",{attrs:{label:"路径"}},[a("el-input",{attrs:{placeholder:"请输入权籍相对路径"},model:{value:e.data.resUrl,callback:function(t){e.$set(e.data,"resUrl",t)},expression:"data.resUrl"}},[a("template",{slot:"prepend"},[e._v("根路径 /#\n                ")])],2)],1):e._e(),"1"===e.data.resType?a("el-form-item",{attrs:{label:"ICON"}},[a("el-input",{model:{value:e.data.resStyle,callback:function(t){e.$set(e.data,"resStyle",t)},expression:"data.resStyle"}},[a("template",{slot:"prepend"},[e._v("iconfont")])],2)],1):e._e(),a("el-form-item",{attrs:{label:"code"}},[a("el-input",{model:{value:e.data.resCode,callback:function(t){e.$set(e.data,"resCode",t)},expression:"data.resCode"}})],1),a("el-form-item",{attrs:{label:"序号"}},[a("el-input-number",{attrs:{min:-1},model:{value:e.data.resOrder,callback:function(t){e.$set(e.data,"resOrder",t)},expression:"data.resOrder"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(t){e.data.show=!1}}},[a("i",{staticClass:"iconfont icon-back"}),e._v("取 消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onSubmit}},[a("i",{staticClass:"iconfont icon-save"}),e._v("确 定")])],1)],1)}),r=[],o=a("9057"),i=a("8593"),c=function(e){var t=[];for(var a in e)t.push({label:e[a],value:a});return t},d={name:"add",props:["data"],data:function(){return{menuTypeOptionList:c(o["b"])}},methods:{onSubmit:function(){var e=this;this.data.resOrder=this.data.resOrder.toString(),"edit"===this.data.type?Object(i["z"])(this.data).then(function(t){e.data.show=!1,e.$emit("updateData"),e.$message({message:"修改更新成功",type:"success"})}):Object(i["w"])(this.data).then(function(t){e.data.show=!1,e.$emit("updateData"),e.$message({message:"添加成功",type:"success"})})}}},u=d,p=a("2877"),m=Object(p["a"])(u,l,r,!1,null,"26f41111",null),f=m.exports,b=a("6231"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.data.title,visible:e.show,center:"",width:"500px"},on:{close:e.closeDialog}},[a("el-form",{ref:"data",attrs:{model:e.data,"label-width":"100px",size:"medium"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称："}},[e._v("\n                    "+e._s(e.data.resName)+"\n                ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"类型："}},[e._v("\n                    "+e._s(e._f("MENUTYPEWORD")(e.data.resType))+"\n                ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编号："}},[e._v("\n                    "+e._s(e.data.resCode)+"\n                ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"序号："}},[e._v("\n                    "+e._s(e.data.resOrder)+"\n                ")])],1),1==e.data.resType?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"图标："}},[e._v("\n                    "+e._s(e.data.resStyle)+"\n                ")])],1):e._e(),a("el-col",{attrs:{span:24}},["3"!==e.data.resType?a("el-form-item",{attrs:{label:"路径："}},[e._v("\n                    "+e._s(e.data.resUrl)+"\n                ")]):e._e()],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"info"},on:{click:e.closeDialog}},[a("i",{staticClass:"iconfont icon-back"}),e._v("关 闭")])],1)],1)},w=[],y={name:"add",props:["data","show"],data:function(){return{}},filters:{MENUTYPEWORD:function(e){return o["b"][e]}},methods:{closeDialog:function(){this.$emit("update:show",!1)}}},v=y,_=Object(p["a"])(v,h,w,!1,null,"4b402f3b",null),g=_.exports,k={name:"menuPage",filters:{menuType:function(e){return o["b"][e]}},data:function(){return{watchObj:{},watchShow:!1,tableData:[],editShow:!1,newMenu:{resName:"",resUrl:"",resStyle:"",resOrder:"",resLevel:"",type:"",resCode:"",show:!1},treeProps:{label:"resName"}}},components:{addDialog:f,watchPage:g},methods:{seeFunction:function(e){this.watchObj=e,this.watchObj.title="资源详情",this.watchShow=!0},onAdd:function(e,t){this.newMenu={resName:!e&&t?t.resName:"",resId:!e&&t?t.resId:"",resUrl:!e&&t&&t.resUrl?t.resUrl:"",title:!e&&t?"编辑 "+t.resName:e?"新增 ".concat(t.resName," 子项"):"新增根资源",resStyle:!e&&t?t.resStyle:"",resCode:!e&&t?t.resCode:"",resType:!e&&t?t.resType.toString():"",resOrder:!e&&t?t.resOrder:"",resLevel:e&&t?t.resLevel+1:t?t.resLevel:1,parentId:e&&t?t.resId:t?t.parentId:"0",type:e?"chlidren":t?"edit":"new",show:!0}},onDel:function(e){var t=this;this.$confirm("此操作将永久删除该权籍, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i["x"])(e.resId).then(function(e){t.initPage(),t.$message({type:"success",message:"删除成功!"})})})},initPage:function(){var e=this;Object(i["y"])().then(function(t){e.tableData=Object(b["a"])(t.data,"resId","parentId","resLevel")})}},created:function(){this.initPage()}},O=k,C=(a("7bbc"),Object(p["a"])(O,s,n,!1,null,"6f82c214",null));t["default"]=C.exports}}]);
//# sourceMappingURL=chunk-98430450.d5a328ca.js.map